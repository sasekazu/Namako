# Namako
## What is Namako
Namako is a Unity plugin for object deformation based on the finite element method. It provides basic mesh-generation capabilities, supports rigid–soft body contact, and enables haptic rendering through virtual coupling.
The word "namako" means "sea cucumber" in Japanese.

## Installation
- Download the unitypackage from the release page (TBD) and import it into your Unity project.
- “Namako” will appear in the Editor menu.


## How to Use

### Model Preparation
- Before running the simulation, you need a mesh for deformation analysis. You have two options:
  - A mesh generated from a **triangular surface mesh** such as OBJ or STL. In this guide, we assume you start from a triangular mesh.
  - A **tetrahedral mesh** generated by Gmsh in **.msh (Version 2 ASCII)** format. See [Using pre-generated tetrahedral mesh](#using-pre-generated-tetrahedral-mesh).
- The deformable mesh is expected to be **watertight**, as required by the collision detection algorithm implemented in Namako.
- For your first test, you can use `lowpoly-bunny.obj` in the `SampleResources` folder.
- The recommended unit is **meters [m]**, meaning that 1 unit in Unity corresponds to 1 m. As a result, the model will appear very small under Unity’s default scale. See [General tips](#general-tips) for guidance on manipulating small objects more easily.

### Basic flow

- Mesh generation
  - Put a mesh model (such as obj) into the scene hirarchy
  - **Enable Read/Write** checkbox in the inspector of the mesh
  - Determine the initial transformation by moving, rotating, scaling the model as you want.
  - Open **"Namako/Tools/Namako Mesh Tool"** from the menu bar.
  - Drag the mesh model from the hierarchy to **"Visual Mesh Object"** in the mesh tool.
  - (Option) Specify "Divisions". Higher value generates finer mesh.
  - Push **"Generate Mesh"** button.
  - You should see the wireframe of the tetrahedral mesh overlaid to your model.
  - "NamakoSolverManager" and "TetraMesh" in the hierarchy, which are used for furthuer detailed settings.
- Rigid Body Placement
  - Add a rigid body object to your scene. For a quick trial, you can simply use a Cube created via right-click in the Hierarchy.
  - Attach the **“Namako Rigid Body”** component to the object.
- Run
  - **Run** the scene and move the object in the Scene view.
  - You should see the mesh deform according to its collision with the rigid object.
  - Since this is a one-way collision algorithm, **the rigid object must be moved explicitly**, for example by using a script or by integrating a motion-capture system such as the Leap Motion Controller or OptiTrack cameras.


### Simulation settings
TBD

### Haptic rendering
TBD

### Using pre-generated tetrahedral mesh
TBD

### General Tips
- If the object appears very small in the editor, I recommend first selecting the mesh model and pressing the **F** key to focus on it. This makes 3D navigation easier. You can also reduce the size of 3D icons if they obstruct your view of the scene.

## Papers
[Namako 2](https://diglib.eg.org/items/bdb2c634-de56-49dc-ba4f-1da24b41ce95)
```
@inproceedings{10.2312:egve.20251368,
booktitle = {ICAT-EGVE 2025 - International Conference on Artificial Reality and Telexistence and Eurographics Symposium on Virtual Environments - Posters and Demos},
editor = {Garro, Valeria and Young, Gareth and Elwardy, Majed},
title = {{Namako 2: Unity Plugin for Stress Visualization, Deformation Prediction and Haptic Rendering of Soft Objects}},
author = {Sase, Kazuya and Chen, Xiaoshuai and Tsujita, Teppei and Konno, Atsushi},
year = {2025},
publisher = {The Eurographics Association},
ISSN = {1727-530X},
ISBN = {978-3-03868-279-0},
DOI = {10.2312/egve.20251368}
}
```        

[Namako 1 (in Japanese)](https://www.jstage.jst.go.jp/article/tvrsj/25/4/25_366/_article/-char/ja/)
```
@article{佐瀬 一弥2020,
  title={柔軟物体の力覚提示に対応したゲームエンジンプラグインNamakoの開発},
  author={佐瀬 一弥 and 陳 暁帥 and 辻田 哲平 and 近野 敦},
  journal={日本バーチャルリアリティ学会論文誌},
  volume={25},
  number={4},
  pages={366-373},
  year={2020},
  doi={10.18974/tvrsj.25.4_366}
}
```